---
title: "Baseline 2024 Newly Available ãªæ©Ÿèƒ½ã‚’ã¿ã¦ã¿ã‚ˆã†"
emoji: "ğŸ‚"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["frontend"]
published: true
publication_name: "cybozu_frontend"
---

:::message
ã“ã®è¨˜äº‹ã¯ã€[CYBOZU SUMMER BLOG FES '24](https://cybozu.github.io/summer-blog-fes-2024/) (Frontend Stage) DAY 20 ã®è¨˜äº‹ã§ã™ã€‚
:::

# Baseline ã¨ã¯

Baseline ã¨ã„ã†ã‚‚ã®ã‚’ã”å­˜çŸ¥ã§ã—ã‚‡ã†ã‹ã€‚

Google I/O 2023 ã«ã§ç™ºè¡¨ã•ã‚ŒãŸã€API ã®ãƒ–ãƒ©ã‚¦ã‚¶é–“ã§ã®äº’æ›æ€§ã‚’æ˜ç¤ºã™ã‚‹ãŸã‚ã®å–ã‚Šçµ„ã¿ã§ã™ã€‚

https://web.dev/baseline/overview

æ—¥ã€…ãƒ–ãƒ©ã‚¦ã‚¶ã§åˆ©ç”¨å¯èƒ½ãª API ã¯å¢—ãˆã¦ã„ã¾ã™ãŒã€ãƒ–ãƒ©ã‚¦ã‚¶é–“ã«ã‚ˆã£ã¦ã‚‚å®Ÿè£…çŠ¶æ³ã«å·®ç•°ãŒã‚ã‚Šã¾ã™ã€‚æ–°ã—ã„æ©Ÿèƒ½ã®å­˜åœ¨ã‚’çŸ¥ã£ãŸã¨ã—ã¦ã‚‚ã€Œã§ã€ã“ã‚Œã¯çµå±€ã‚‚ã†ä½¿ã£ã¦ã„ã„ã®ï¼Ÿã€ã¨ã„ã†åˆ¤æ–­ã¯åˆ¥é€”å¿…è¦ã¨ãªã‚Šã¾ã™ã€‚

Baseline ã§ã¯ã€å„æ©Ÿèƒ½ã«ã¤ã„ã¦ Newly Available ã¨ Widely available ã¨ã„ã†åŸºæº–ã‚’è¨­ã‘ã¦ã„ã¾ã™ã€‚

- Newly Available: ã‚³ã‚¢ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆChrome, Edge, Firefox, Safariï¼‰ã®æœ€æ–°å®‰å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§åˆ©ç”¨å¯èƒ½ã«ãªã£ãŸã‚‚ã®
- Widely Available: Newly Available ã«ãªã£ã¦ã‹ã‚‰ 30 ãƒ¶æœˆãŒçµŒéã—ãŸã‚‚ã®

ãŸã¨ãˆã°ã€æä¾›ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®å‹•ä½œä»•æ§˜ã¨ã—ã¦ "ã‚³ã‚¢ãƒ–ãƒ©ã‚¦ã‚¶ã®å®‰å®šæœ€æ–°ç‰ˆ" ã¨ã—ã¦æç¤ºã—ã¦ã„ãŸå ´åˆã§ã‚ã‚Œã°ã€Baseline ã‚’å‚è€ƒã«ã™ã‚‹ã“ã¨ã§ "Newly Available ã®æ©Ÿèƒ½ã§ã‚ã‚Œã°åˆ©ç”¨ã—ã¦å•é¡Œãªã„" ã¨ã„ã£ãŸåˆ¤æ–­ãŒã§ãã¾ã™ã€‚

## æœ€è¿‘ã® Newly Available ã‚’ã¿ã¦ã¿ã‚ˆã†

Newly Available ã¯å‰è¿°ã®é€šã‚Šã‚³ã‚¢ãƒ–ãƒ©ã‚¦ã‚¶ã®æœ€æ–°å®‰å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§åˆ©ç”¨å¯èƒ½ã«ãªã£ãŸã‚‚ã®ã§ã™ã€‚ã¤ã¾ã‚Šã€æœ€è¿‘ Newly Available ã«ãªã£ãŸæ©Ÿèƒ½ã¨ã¯ã€è¿‘ã„å°†æ¥ã«å½“ãŸã‚Šå‰ã«åˆ©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹æ©Ÿèƒ½ã¨ã‚‚è¨€ãˆã¾ã™ã€‚

ã¨ã„ã†ã“ã¨ã§ã€ã“ã®è¨˜äº‹ã§ã¯ã€2024 å¹´ã«å…¥ã£ã¦ã‹ã‚‰æ–°ãŸã« Newly Available ã¨ãªã£ãŸæ©Ÿèƒ½ã‚’ã„ãã¤ã‹ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ãŠã•ã‚‰ã„ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

# Pickup Newly Available 2024/1ã€œ2024/8

**å‰æ**

- 2024 å¹´ 1 æœˆã‹ã‚‰ 2024 å¹´ 8 æœˆ ã®é–“ã« Newly Available ã¨ãªã£ãŸæ©Ÿèƒ½ã§ã™
- ã™ã¹ã¦ã®æ©Ÿèƒ½ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç­†è€…ã®ç‹¬æ–­ã¨åè¦‹ã§ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™

## `Object.groupBy()` / `Map.groupBy()`

https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy

JavaScript ã§ã€åå¾©å¯èƒ½ãªè¦ç´ ã«å¯¾ã—ã¦ `groupBy` ãƒ¡ã‚½ãƒƒãƒ‰ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚

```ts
Object.groupBy(
  [
    { type: "bird", name: "Peacock" },
    { type: "fish", name: "Tuna" },
    { type: "animal", name: "Dog" },
    { type: "animal", name: "Horse" },
    { type: "fish", name: "Sardine" },
    { type: "animal", name: "Lion" },
  ],
  ({ type }) => type
);

/*
Result:
{
    "bird": [
        { "type": "bird", "name": "Peacock" }
    ],
    "fish": [
        { "type": "fish", "name": "Tuna" },
        { "type": "fish", "name": "Sardine" }
    ],
    "animal": [
        { "type": "animal", "name": "Dog" },
        { "type": "animal", "name": "Horse" },
        { "type": "animal", "name": "Lion" }
    ]
}
*/
```

åŒæ§˜ã®å‡¦ç†ã‚’ã—ãŸã„å ´åˆã€å¾“æ¥ã§ã¯ `Array.prototype.reduce()` ã§å¯¾å¿œã—ãŸã‚Šã€Utility ç³»ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å«ã¾ã‚Œã‚‹åŒæ§˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ã«é ¼ã‚‹ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ç¾åœ¨ã§ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ã§ç°¡å˜ã«ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°å¯èƒ½ã¨ãªã‚Šã¾ã—ãŸã€‚

## `CustomStateSet` ãŠã‚ˆã³ `:state()` æ“¬ä¼¼ã‚¯ãƒ©ã‚¹

https://developer.mozilla.org/en-US/docs/Web/API/CustomStateSet
https://developer.mozilla.org/en-US/docs/Web/CSS/:state

ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã«ãŠã„ã¦ä»»æ„ã®çŠ¶æ…‹ã‚’æ‰±ã†ãŸã‚ã® API ã§ã‚ã‚‹ `CustomStateSet` ã¨ã€è©²å½“ã®çŠ¶æ…‹ã«å¿œã˜ã¦ãƒãƒƒãƒã•ã›ã‚‹ãŸã‚ã® CSS æ“¬ä¼¼ã‚¯ãƒ©ã‚¹ã§ã‚ã‚‹ `:state()` ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚

`CustomStateSet` ã¯ã€[`ElementInternals`](https://developer.mozilla.org/ja/docs/Web/API/ElementInternals)ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® `states` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£çµŒç”±ã§æ“ä½œã§ãã¾ã™ã€‚å®Ÿéš›ã«åˆ©ç”¨ã™ã‚‹éš›ã«ã¯ã€ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã®ä¸­ã§ `attachInternals()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã«ç´ä»˜ã„ãŸ `ElementInternals` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å¾—ã‚‰ã‚Œã¾ã™ã€‚

`CustomStateSet` ã«å¯¾ã—ã¦ä»»æ„ã®çŠ¶æ…‹ã‚’å®šç¾©ã—ãŸå ´åˆã«ã¯ã€åŒã˜åå‰ã§ `:state()` æ“¬ä¼¼ã‚¯ãƒ©ã‚¹ã‚’ä½¿ã†ã“ã¨ã§ CSS ä¸Šã§ã‚‚ãƒãƒƒãƒã—ã¾ã™ã€‚

ãŸã¨ãˆã°æ¬¡ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã®å ´åˆã€ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã§ã‚ã‚‹ `MyElement` ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã‚«ã‚¹ã‚¿ãƒ çŠ¶æ…‹ã¨ã—ã¦ `"clicked"` ã‚’å†…éƒ¨ã«ä¿æŒã—ã¾ã™ã€‚CSS ã‹ã‚‰ã¯ `:state(clicked)` ã§ãƒãƒƒãƒã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```ts:JavaScript
class MyElement extends HTMLElement {
  #internals;

  constructor() {
    super();
    this.#internals = this.attachInternals();
    this.addEventListener("click", this.#onClick.bind(this));
  }

  #onClick() {
    this.#internals.states.add("clicked");
  }
}

customElements.define("my-element", MyElement);
```

```css:CSS
my-element:state(clicked) {
  color: red;
}
```

```html:HTML
<my-element>MyElement</my-element>
```

ä»¥ä¸‹ã®å®Ÿè¡Œä¾‹ã«ã¦ã€ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æ–‡å­—ã®è‰²ãŒå¤‰ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚

@[codepen](https://codepen.io/mugi-uno/pen/MWMQvov?default-tab=js,result)

## `CSS.registerProperty()` ãŠã‚ˆã³ CSS `@property`

https://developer.mozilla.org/ja/docs/Web/API/CSS/registerProperty_static
https://developer.mozilla.org/ja/docs/Web/CSS/@property

CSS ã«ãŠã„ã¦ã€å‹ã‚„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãªã©ã‚’ä¿æŒã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã® JavaScript API ã§ã‚ã‚‹ `CSS.registerProperty()` ã¨ã€åŒç­‰ã®ä»•çµ„ã¿ã‚’ CSS ã‹ã‚‰ç›´æ¥åˆ©ç”¨ã™ã‚‹ãŸã‚ã® `@property` ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚

CSS ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è‡ªä½“ã¯ [Widely available](https://developer.mozilla.org/ja/docs/Web/CSS/--*) ã§ã‚ã‚Šã€ã™ã§ã«å¹…åºƒã„ãƒ–ãƒ©ã‚¦ã‚¶ã§åˆ©ç”¨å¯èƒ½ã§ã™ãŒã€åŠ ãˆã¦ `CSS.registerProperty()` ã‚„ `@property` ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šå¼·åŠ›ã«æ‰±ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

ä»¥ä¸‹ã¯ `@property` ã®ä¾‹ã§ã™ã€‚`--my-color` ã¨ã„ã†åå‰ã§ã‚«ãƒ©ãƒ¼ã®ã¿ã‚’å—ã‘ä»˜ã‘ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚«ãƒ©ãƒ¼ãŒå®£è¨€ã•ã‚Œã¦ãŠã‚Šã€`inherits: false` ã«ã‚ˆã‚Šã€è¦ªè¦ç´ ã§å®šç¾©ã—ãŸå€¤ã¯å­å­«ã«ç¶™æ‰¿ã•ã‚Œã¦ã„ãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

@[codepen](https://codepen.io/mugi-uno/pen/jOjZmjJ?default-tab=css,result)

## Popover API

https://developer.mozilla.org/ja/docs/Web/API/Popover_API

è¦ç´ ã‚’ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã¨ã—ã¦æ‰±ã†ãŸã‚ã® `popover` ãŠã‚ˆã³ `popovertarget` å±æ€§ãŒåˆ©ç”¨å¯èƒ½ã¨ãªã‚Šã¾ã—ãŸã€‚

ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼è¡¨ç¤ºã—ãŸã„è¦ç´ ã«ã¯ `popover` å±æ€§ãŠã‚ˆã³ ID ã‚’ä»˜ä¸ã—ã€ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹è¦ç´ ã«ã¯ `popovertarget` å±æ€§ãŠã‚ˆã³å¯¾è±¡ã® ID ã‚’æŒ‡å®šã—ã¾ã™ã€‚
`popovertarget` ã‚’æŒ‡å®šã™ã‚‹ãƒˆãƒªã‚¬ãƒ¼è¦ç´ ã¯ `<input type="button">` ã‚„ `<button>` ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚ï¼ˆãªãŠã€`HTMLInputElement#popoverTargetElement` ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€ID ã‚„`popovertarget`ã‚’ä»‹ã•ãªã„ç´ã¥ã‘ã‚‚å¯èƒ½ã§ã™ã€‚ï¼‰

å¾“æ¥ã§ã¯ ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã®å®Ÿç¾ã«ã¯ JavaScript ãŒå¿…é ˆã§ã—ãŸãŒã€Popover API ã®ç™»å ´ã«ã‚ˆã‚Šã€HTML ã®ã¿ã§åŸºæœ¬çš„ãªå‹•ä½œãŒå®Ÿç¾å¯èƒ½ã¨ãªã‚Šã€Progressive Enhancement ã«ã‚‚å¯„ä¸ã—ã¾ã™ã€‚ã¾ãŸã€ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã‚’é›‘ã«å®Ÿè£…ã—ã¦ã—ã¾ã†ã¨ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é¢ã§ã‚‚å•é¡ŒãŒç”Ÿã˜ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹åˆ¶å¾¡ãªã©ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é¢ã§ã®é…æ…®ãŒå«ã¾ã‚Œã‚‹ã®ã‚‚ç‰¹å¾´ã¨ãªã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã¯ç°¡å˜ãª Popover API ã®ä¾‹ã§ã™ã€‚HTML ã®ã¿ã§ã™ãŒã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã ã‘ã§ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ãŒãƒˆã‚°ãƒ«ã™ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

@[codepen](https://codepen.io/mugi-uno/pen/YzoeQXr?default-tab=html,result)

## Declarative Shadow DOM ãŠã‚ˆã³ `Document.parseHTMLUnsafe()` / `setHTMLUnsafe()`

https://web.dev/articles/declarative-shadow-dom?hl=en
https://developer.mozilla.org/ja/docs/Web/API/Document/parseHTMLUnsafe_static
https://developer.mozilla.org/ja/docs/Web/API/Element/setHTMLUnsafe

Web Components ã‚’æ§‹æˆã™ã‚‹è¦ç´ ã®ä¸€ã¤ã§ã‚ã‚‹ Shadow DOM ã§ã™ãŒã€å¾“æ¥ã§ã¯ JavaScript ã‚’åˆ©ç”¨ã—ãŸå‘½ä»¤çš„ãª Shadow Root ã®æ§‹ç¯‰ãŒå¿…è¦ã§ã‚ã‚Šã€SSR ãŒå¿…è¦ãªã‚±ãƒ¼ã‚¹ã§ã¯ Shadow DOM ã¨çµ„ã¿åˆã‚ã›ãŸåˆ©ç”¨ãŒé›£ã—ã„çŠ¶æ…‹ã§ã—ãŸã€‚

æ–°ãŸã« Newly Available ã¨ãªã£ãŸ Declarative Shadow DOM ã«ã‚ˆã£ã¦ã€ãã®åã®é€šã‚Š Shadow DOM ã‚’å®£è¨€çš„ã«æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã¨ãªã‚Šã€HTML Parser ã«ã‚ˆã£ã¦è§£æã•ã‚Œã€HTML ã®ã¿ã§ Shadow Root ã‚’æ§‹ç¯‰å¯èƒ½ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã¾ãŸã€JavaScript ã‹ã‚‰ã‚‚ `Document.parseHTMLUnsafe()` / `setHTMLUnsafe()` ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€å‹•çš„ã« Declarative Shadow DOM ã‚’æ‰±ã†ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

è©³ç´°ã«ã¤ã„ã¦ã¯ã€ã‚µã‚¤ãƒœã‚¦ã‚ºã® [saku](https://zenn.dev/s_a_k_u) ãŒè¨˜äº‹ã‚’æ›¸ã„ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€ãã¡ã‚‰ãŒå¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã™ã€‚
https://zenn.dev/cybozu_frontend/articles/web-standardized-component-in-server-and-client

## Set ã®é›†åˆæ¼”ç®—

https://tc39.es/proposal-set-methods/

JavaScript ã§ã® Set ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã„ã¦ã€é›†åˆæ¼”ç®—ã‚’è¡Œã†ãŸã‚ã®æ¬¡ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚

- `Set.prototype.intersection()`
- `Set.prototype.union()`
- `Set.prototype.difference()`
- `Set.prototype.symmetricDifference()`
- `Set.prototype.isSubsetOf()`
- `Set.prototype.isSupersetOf()`
- `Set.prototype.isDisjointFrom()`

```ts
new Set([1, 2, 3, 4, 5]).intersection(new Set([3, 0, 1, 6]));
// â†’ Result: Set(2) { 1, 3 }

new Set([1, 2, 3, 4, 5]).union(new Set([3, 0, 1, 6]));
// â†’ Result: Set(7) { 0, 1, 2, 3, 4, 5, 6 }

new Set([1, 2, 3, 4, 5]).difference(new Set([3, 0, 1, 6]));
// â†’ Result: Set(3) { 2, 4, 5 }

new Set([1, 2, 3, 4, 5]).symmetricDifference(new Set([3, 0, 1, 6]));
// â†’ Result: Set(5) { 0, 2, 4, 5, 6 }

new Set([1, 3, 5]).isSubsetOf(new Set([1, 2, 3, 4, 5]));
// â†’ Result: true
new Set([1, 3, 5, 6]).isSubsetOf(new Set([1, 2, 3, 4, 5]));
// â†’ Result: false

new Set([1, 2, 3, 4, 5]).isSupersetOf(new Set([1, 3, 5]));
// â†’ Result: true
new Set([1, 2, 3, 4, 5]).isSupersetOf(new Set([1, 3, 5, 6]));
// â†’ Result: false

new Set([1, 2, 3, 4, 5]).isDisjointFrom(new Set([1, 2, 3, 4, 5]));
// â†’ Result: false
new Set([1, 2, 3, 4, 5]).isDisjointFrom(new Set([1, 3, 5, 6]));
// â†’ Result: false
new Set([1, 2, 3, 4, 5]).isDisjointFrom(new Set([0, 6]));
// â†’ Result: true
```

æ„šç›´ã«æ‰‹å‹•ã§ã®å®Ÿè£…ã‚’è€ƒãˆã¦ã¿ã‚‹ã¨ã€æ„å¤–ã¨æ‰‹é–“ã«ãªã‚‹é¡ã®ã‚‚ã®ã§ã™ã€‚
å¿…è¦ã«ãªã‚‹ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ¥ãŸã¨ãã«ã€å¼•ãå‡ºã—ã¨ã—ã¦æŒã£ã¦ãŠãã¨ã‹ãªã‚Šã‚³ãƒ¼ãƒ‰ãŒç°¡æ½”ã«æ¸ˆã¿ãã†ã§ã™ã­ã€‚

## `Element # checkVisibility()`

https://developer.mozilla.org/ja/docs/Web/API/Element/checkVisibility

è¦ç´ ãŒå¯è¦–çŠ¶æ…‹ã‹ã‚’æ¤œæŸ»ã™ã‚‹ãŸã‚ã® `checkVisibility()` ãƒ¡ã‚½ãƒƒãƒ‰ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚

è¦ç´ ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã€Œè¦‹ãˆã¦ã„ã‚‹ã€ã‹ã¯ã€ã•ã¾ã–ã¾ãªè¦å› ã«ã‚ˆã£ã¦æ±ºå®šã•ã‚Œã‚‹ãŸã‚åˆ¤æ–­ãŒé›£ã—ã„ã‚‚ã®ã§ã™ã€‚`checkVisibility()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€ãã‚Œã‚‰ã®è¦å› ã‚’ä¸€é€šã‚Šè€ƒæ…®ã—ãŸã†ãˆã§å¯è¦–çŠ¶æ…‹ã®åˆ¤åˆ¥ãŒã§ãã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ CSS ã® `display` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„ `content-visibility` ã«å¿œã˜ãŸãƒã‚§ãƒƒã‚¯ãŒè¡Œã‚ã‚Œã¾ã™ãŒã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦ `visibility` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚ˆã‚‹ä¸å¯è¦–çŠ¶æ…‹ã‚„ `opacity` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚ˆã‚‹ä¸é€æ˜åº¦ã«ã‚ˆã‚‹ãƒã‚§ãƒƒã‚¯ã‚‚è¡Œãˆã¾ã™ã€‚

```html
<div class="content1">content1</div>
<div class="content2">content2</div>
<div class="content3">content3</div>
```

```css
.content2 {
  display: none;
}
.content3 {
  opacity: 0;
}
```

```ts
document.querySelector(".content1").checkVisibility();
// â†’ true
document.querySelector(".content2").checkVisibility();
// â†’ false (display: none ã®ãŸã‚)
document.querySelector(".content3").checkVisibility();
// â†’ true (opacity: 0 ã ãŒã‚ªãƒ—ã‚·ãƒ§ãƒ³æŒ‡å®šãŒç„¡ã„ãŸã‚)
document.querySelector(".content3").checkVisibility({ opacityProperty: true });
// â†’ true (opacity: 0 ã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³æŒ‡å®šãŒã‚ã‚‹ãŸã‚)
```

# ã¾ã¨ã‚

2024 å¹´ 1 æœˆã‹ã‚‰ 8 æœˆã§æ–°ãŸã« Newly Available ã«ãªã£ãŸæ©Ÿèƒ½ã‚’ã„ãã¤ã‹ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦è¦‹ã¦ã„ãã¾ã—ãŸã€‚çŸ¥ã£ã¦ã„ãŸæ©Ÿèƒ½ã¯ã‚ã£ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ

ç¾çŠ¶ã§ã¯ã€Œæ™®æ®µã‹ã‚‰ã‚ã¡ã‚ƒä½¿ã£ã¦ã„ã‚‹ãœï¼ã€ã¨ã„ã†ã‚‚ã®ã¯å°‘ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã™ã¹ã¦ã®ã‚³ã‚¢ãƒ–ãƒ©ã‚¦ã‚¶ã®æœ€æ–°å®‰å®šç‰ˆã§ã¯ã™ã§ã«åˆ©ç”¨å¯èƒ½ã§ã‚ã‚Šã€æ™‚é–“ãŒçµŒã¦ã°ä½¿ã£ã¦ã„ã‚‹ã“ã¨ãŒå½“ãŸã‚Šå‰ã«ãªã£ã¦ã„ã‚‹å¯èƒ½æ€§ã®é«˜ã„æ©Ÿèƒ½ãŸã¡ãªã®ã§ã€æœ€ä½é™æ¦‚è¦ã ã‘ã§ã‚‚æŠ‘ãˆã¦ãŠãã¨ã„ã¤ã‹å½¹ã«ç«‹ã¤ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ã­ã€‚

ãªãŠã€Baseline ã®çŠ¶æ³ã«ã¤ã„ã¦ã¯ã€ä¸€éƒ¨ã¯ Web Platform Dashboard ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

https://web.dev/blog/web-platform-dashboard?hl=en
https://webstatus.dev/

ãŸã¾ã«çœºã‚ã¦ã¿ã‚‹ã¨ã€Œã‚ã€ã“ã‚Œã‚‚ã†ä½¿ã£ã¦ã„ã„ã®ã‹ã€ã¨ã„ã†ç™ºè¦‹ãŒã‚ã£ã¦æ¥½ã—ã„ã®ã§ã€ãœã²ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
